{% extends 'quiz/base.html' %}
{% block content %}

<div class="body">
  {% for quiz in object_list %}
  <div class="card card-quiz">
    <div class="card-title">
    {% if user.is_authenticated or quiz.public %}
      {% if not quiz.public %} Draft {% endif %}{{quiz.question}}
    </div>
    <div class="card-body">
      {% if quiz.choice_long %}
        <div class="card-text row">
          <div class="choice choice-1 col-12 border border-white  bg-light mb-3">
            {{quiz.choice1}}
          </div>
          <div class="choice choice-2 col-12 border border-white  bg-light mb-3">
            {{quiz.choice2}}
          </div>
          <div class="choice choice-3 col-12 border border-white  bg-light mb-3">
             {{quiz.choice3}}
          </div>
          <div class="choice choice-4 col-12 border border-white  bg-light mb-3">
            {{quiz.choice4}}
          </div>
        </div>
      {% endif%}
      {% if not quiz.choice_long %}
        <div class="card-text row">
          <div class="choice choice-1 col-6 border border-white  bg-light">
            {{quiz.choice1}}
          </div>
          <div class="choice choice-2 col-6 border border-white  bg-light">
            {{quiz.choice2}}
          </div>
          <div class="choice choice-3 col-6 border border-white  bg-light">
             {{quiz.choice3}}
          </div>
          <div class="choice choice-4 col-6 border border-white  bg-light">
            {{quiz.choice4}}
          </div>
        </div>
      {% endif%}
      <div class="w-100 d-flex justify-content-between card-bottom">
        <div class="quiz-info">
          <div class="card-level-category">
            <a class=" {{quiz.level.slug}}" href="{% url 'quiz:level_post' quiz.level.slug %}">{{quiz.level}}</a>
            <a class=" {{quiz.category.slug}}" href="{% url 'quiz:category_post' quiz.category.slug %}">{{quiz.category}}</a>
          </div>
          <div class="card-tag">
            {% for tag in quiz.tags.all %}
              <a href="{% url 'quiz:tag_post' tag.slug %}">{{ tag.name }}</a>
            {% endfor %}
          </div>
        </div>
        <a class="answer btn btn-success text-white" data-toggle="collapse" href="#c{{quiz.pk}}" role="button" aria-expanded="false" aria-controls="c{{quiz.pk}}">
          Answer
        </a>
      </div>
      <div class="collapse" id="c{{quiz.pk}}">
        <div class="card card-body">
          <span class="correct-answer">{{quiz.answer}}</span>
          {{quiz.description | safe}}
        </div>
      </div>
    </div>
    {% endif %}
</div>
{% endfor %}
<nav class="pagination w-100 m-auto d-flex justify-content-between">
  {% if page_obj.has_previous %}
    <a class="pagination-previous btn btn-primary" href="?page={{ page_obj.previous_page_number }}"><<</a>
  {% endif %}
  {% if not page_obj.has_previous %}
    <span class="pagination-previous btn btn-light"><<</span>
  {% endif %}
  <div class="">
    {% for num in paginator.page_range %}
    {% if page_obj.number == num %}
      <span class="pagination-number btn btn-light">{{ num }}</span>
    {% else %}
      <a class="pagination-number btn btn-primary" href="?page={{ num }}">{{ num }}</a>
    {% endif %}
    {% endfor %}
  </div>

  {% if page_obj.has_next %}
    <a class="pagination-next btn btn-primary" href="?page={{ page_obj.next_page_number }}">>></a>
  {% endif %}
  {% if not page_obj.has_next %}
    <span class="pagination-next btn btn-light">>></span>
  {% endif %}
</nav>
</div>
{% endblock %}
